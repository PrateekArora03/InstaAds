(this.webpackJsonpinstaads=this.webpackJsonpinstaads||[]).push([[0],{207:function(e,t,a){e.exports=a(409)},212:function(e,t,a){},230:function(e,t,a){},287:function(e,t,a){},367:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),c=a.n(s),o=a(32),l=(a(212),a(10)),i=a.n(l),u=a(16),m=a(21),p=a(22),h=a(25),d=a(23),f=a(26),g=a(18),v=a.n(g),E=a(57),b=a(143),y=a(106),k=a(39),O=a(5);a(230);var w=function(e){var t=r.a.createElement(b.a,null,r.a.createElement(b.a.Item,{key:"1"},r.a.createElement(o.b,{to:"/new"},"Post")),r.a.createElement(b.a.Item,{key:"2"},r.a.createElement(o.b,{to:"/newBoost"},"Ad Post")));return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"container center"},r.a.createElement("h1",{className:"header-h1"},r.a.createElement(o.b,{"aria-label":"y4ia Services title",title:"y4ia Services",to:"/"},r.a.createElement("img",{src:"/y4ia.png"}))),null===e.user||e.user.isAdmin?e.user?r.a.createElement(O.a,{style:{cursor:"pointer"},title:"Logout",onClick:function(){return e.logOutUser()},type:"logout"}):r.a.createElement("div",null,r.a.createElement(o.b,{style:{marginRight:"10px"},to:"/login"},r.a.createElement(k.a,{type:"primary"},"Login")),r.a.createElement(o.b,{to:"/register"},r.a.createElement(k.a,{type:"ghost"},"Sign up"))):r.a.createElement("nav",{className:"header-nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.a,{overlay:t},r.a.createElement(k.a,{type:"primary"},"Action ",r.a.createElement(O.a,{type:"down"})))),r.a.createElement("li",{className:"home-profile"},r.a.createElement(o.b,{title:"Home",to:"/"},r.a.createElement("svg",{"aria-label":"Home",viewBox:"0 0 512 512",fill:"#262626",height:"24",width:"24"},r.a.createElement("path",{d:"M506.555 208.064L263.859 30.367a13.3 13.3 0 00-15.716 0L5.445 208.064c-5.928 4.341-7.216 12.665-2.875 18.593s12.666 7.214 18.593 2.875L256 57.588l234.837 171.943a13.236 13.236 0 007.848 2.57c4.096 0 8.138-1.885 10.744-5.445 4.342-5.927 3.054-14.251-2.874-18.592z"}),r.a.createElement("path",{d:"M442.246 232.543c-7.346 0-13.303 5.956-13.303 13.303v211.749H322.521V342.009c0-36.68-29.842-66.52-66.52-66.52s-66.52 29.842-66.52 66.52v115.587H83.058V245.847c0-7.347-5.957-13.303-13.303-13.303s-13.303 5.956-13.303 13.303V470.9c0 7.347 5.957 13.303 13.303 13.303h133.029c6.996 0 12.721-5.405 13.251-12.267.032-.311.052-.651.052-1.036V342.01c0-22.009 17.905-39.914 39.914-39.914s39.914 17.906 39.914 39.914V470.9c0 .383.02.717.052 1.024.524 6.867 6.251 12.279 13.251 12.279h133.029c7.347 0 13.303-5.956 13.303-13.303V245.847c-.001-7.348-5.957-13.304-13.304-13.304z"}))),r.a.createElement(o.b,{title:"Profile",to:"/profile"},r.a.createElement("svg",{"aria-label":"Profile",className:"_8-yf5 ",fill:"#262626",height:"24",viewBox:"0 0 48 48",width:"24"},r.a.createElement("g",null,r.a.createElement("path",{d:"M24 27c-7.1 0-12.9-5.8-12.9-12.9s5.8-13 12.9-13c7.1 0 12.9 5.8 12.9 12.9S31.1 27 24 27zm0-22.9c-5.5 0-9.9 4.5-9.9 9.9s4.4 10 9.9 10 9.9-4.5 9.9-9.9-4.4-10-9.9-10zM44 46.9c-.8 0-1.5-.7-1.5-1.5V42c0-5-4-9-9-9h-19c-5 0-9 4-9 9v3.4c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5V42c0-6.6 5.4-12 12-12h19c6.6 0 12 5.4 12 12v3.4c0 .8-.7 1.5-1.5 1.5z"}))))),r.a.createElement("li",null,r.a.createElement(O.a,{style:{cursor:"pointer"},title:"Logout",onClick:function(){return e.logOutUser()},type:"logout"}))))))},x=a(47),C=a(20),j=a(80),S=a(420),N=a(410),D=a(418),P=a(417),A=a(412),I=a(81),U=a(411),L=a(144);a(287);var T=Object(E.f)((function(e){var t=e.data,a=e.user,s=e.fetchPosts,c=e.view,o=Object(n.useState)(!1),l=Object(I.a)(o,2),m=l[0],p=l[1],h=Object(n.useState)(""),d=Object(I.a)(h,2),f=d[0],g=d[1],E=t.author,b=t.media,y=t.description,w=t.like,x=t._id,C=t.expireDate,j=t.isImage,S=t.views,P=E.name,A=E.picture,T=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var r,c,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.currentTarget.className,n.currentTarget.setAttribute("class","".concat("like-btn-liked"===r?"like-btn":"like-btn-liked")),c=JSON.parse(localStorage.getItem("authToken")),e.prev=3,o=w.includes(a._id)?"unlike":"like",l=C?"adpost":"post",e.next=8,v.a.patch("/api/".concat(l,"/").concat(t,"/").concat(o),null,{headers:{Authorization:c}});case 8:s(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("authToken")),e.prev=1,e.next=4,v.a.delete("/api/post/".concat(t),{headers:{Authorization:a}});case 4:s(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("article",{className:"post-container"},r.a.createElement("header",{className:"post-header-section"},r.a.createElement("div",{className:"post-profile"},r.a.createElement("div",{className:"post-profile-img",title:P},A?r.a.createElement("img",{alt:"profile",className:"user-profile-img",src:"/"+A}):r.a.createElement(N.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"}},P)),r.a.createElement("div",{className:"post-profile-name"},r.a.createElement("h2",{title:P},P))),a&&r.a.createElement("div",{className:"more-btn-section"},C?"sponsored":r.a.createElement(U.a,{content:r.a.createElement("ul",{className:"more-option-list"},r.a.createElement("li",{className:"more-list-item"},r.a.createElement("button",{className:"more-list-btn",onClick:function(){return g(x)}},"Share")),E._id===a._id?r.a.createElement("li",{className:"more-list-item"},r.a.createElement("button",{className:"more-list-btn",onClick:function(){return z(x)}},"Delete")):""),title:"",trigger:"click",visible:m,onVisibleChange:function(){return p(!m)}},r.a.createElement(k.a,{type:"primary"},"...")))),r.a.createElement("div",{className:"post-img-section center-child"},j?r.a.createElement("img",{className:"profile"===c?"post-profile-image":"",src:"/"+b,alt:"business ad"}):r.a.createElement("iframe",{className:"profile"===c?"":"youtube",src:"https://www.youtube.com/embed/".concat(b),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"youtube"})),r.a.createElement("footer",{className:"post-footer-section"},a&&r.a.createElement("div",{className:"activity-section"},r.a.createElement("span",{className:"like-section"},r.a.createElement("button",{className:w.includes(a._id)?"like-btn-liked":"like-btn",onClick:function(e){return T(x,e)}},w.includes(a._id)?r.a.createElement(L.a,null):r.a.createElement(L.b,null)),r.a.createElement("span",{className:"like-count"},w.length))),r.a.createElement("div",{className:"description-section"},r.a.createElement("span",{className:"description-author"},P),r.a.createElement("span",{className:"description-data"},y),"profile"===c&&r.a.createElement("span",{style:{float:"right"}},r.a.createElement("span",null,r.a.createElement(O.a,{type:"eye"}),S),r.a.createElement("span",{style:{marginLeft:"5px"}},r.a.createElement(O.a,{type:"like"}),w.length)))),r.a.createElement(D.a,{centered:!0,visible:f,onOk:function(){return g("")},onCancel:function(){return g("")}},r.a.createElement("div",null,r.a.createElement("img",{style:{width:"100%",height:"100%"},src:"/sharelink.png"}),r.a.createElement("div",{style:{textAlign:"center",fontSize:"16px"}},"https://y4ia.org/share/".concat(f)))))})),z=a(415);function B(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}var _=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={previewVisible:!1,previewImage:"",fileList:[]},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,B(t.originFileObj);case 3:t.preview=e.sent;case 4:a.setState({previewImage:t.url||t.preview,previewVisible:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){"done"===e.file.status&&a.props.imageUpdate(e.file.response.file),a.setState({fileList:e.fileList})},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,s=r.a.createElement("div",null,r.a.createElement(O.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload"));return r.a.createElement("div",{className:"clearfix"},r.a.createElement(z.a,{action:"/api/post/upload",listType:"picture-card",name:"myImage",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange},n.length>=1?null:s),r.a.createElement(D.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:a})))}}]),t}(r.a.Component),M=(a(367),j.a),V=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,confirmLoading:!1,formData:{name:"",email:"",username:"",picture:"",description:""},post:[],adPost:[],checked:!1},a.showModal=function(){a.setState({visible:!0})},a.handleOk=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({confirmLoading:!0}),e.next=4,v.a.put("/api/profile/"+a.state.formData.username,a.state.formData,{headers:{Authorization:JSON.parse(localStorage.authToken)}});case 4:t=e.sent,a.setState({visible:!1,confirmLoading:!1,formData:t.data.user}),S.a.success(t.data.message),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response?S.a.error(e.t0.response.data.message):console.error(e.t0),a.setState({visible:!1,confirmLoading:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),a.onChange=function(e){a.setState(Object(C.a)({},a.state,{checked:e}))},a.handleCancel=function(){a.setState({visible:!1,confirmLoading:!1})},a.handleChange=function(e){"male"===e||"female"===e?a.setState(Object(C.a)({},a.state,{formData:Object(C.a)({},a.state.formData,{gender:e})})):a.setState(Object(C.a)({},a.state,{formData:Object(C.a)({},a.state.formData,Object(x.a)({},e.target.name,e.target.value))}))},a.imageUpdate=function(e){var t=Object(C.a)({},a.state.formData);t.picture=e,a.setState({formData:t})},a.fetchUser=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/profile/".concat(t),{headers:{Authorization:JSON.parse(localStorage.authToken)}});case 3:n=e.sent,a.setState({post:n.data.user.post,adPost:n.data.user.adPost}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState(Object(C.a)({},a.state,{formData:a.props.data})),a.fetchUser(a.props.data.username);case 2:case"end":return e.stop()}}),e)}))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.formData,a=t.name,n=t.picture,s=t.description,c=t.email,o=t.contact,l=t.gender,i=t.dateOfBirth,u=t.timeOfBirth,m=t.city,p=t.qualification,h=t.professionalQualification,d=t.country;return r.a.createElement("div",{className:"profile-container"},r.a.createElement("div",{className:"profile container center"},r.a.createElement("div",{className:"profile-img-section"},n?r.a.createElement("img",{alt:"profile",className:"user-profile-img",src:n}):r.a.createElement(N.a,{style:{color:"#f56a00",backgroundColor:"#fde3cf"}},a.split(" ")[0])),r.a.createElement("div",{className:"profile-main"},r.a.createElement("h3",{className:"user-name"},a),r.a.createElement("div",{className:"user-des-container"},r.a.createElement("p",{className:"user-description"},s),r.a.createElement("p",{className:"user-email user-det"},c),r.a.createElement("p",{className:"user-email user-det"},o)),(i||u)&&r.a.createElement("div",{className:"user-des-container"},r.a.createElement("p",{className:"user-date user-det"},i),r.a.createElement("p",{className:"user-time user-det"},u)),r.a.createElement("div",{className:"user-des-container"},r.a.createElement("p",{className:"user-gender user-det"},l&&l.toUpperCase()),r.a.createElement("p",{className:"user-city user-det"},m),r.a.createElement("p",{className:"user-country user-det"},d)),r.a.createElement("div",{className:"user-des-container"},r.a.createElement("p",{className:"user-qualification user-det"},p),r.a.createElement("p",{className:"user-qualification user-det"},h)),r.a.createElement("button",{className:"btn-edit-link",onClick:this.showModal},"Edit Profile"))),r.a.createElement(D.a,{title:"Edit Profile",visible:this.state.visible,onOk:this.handleOk,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel,className:"input-margin"},r.a.createElement(P.a,{type:"text",value:this.state.formData.name,placeholder:"Name",name:"name",onChange:this.handleChange}),r.a.createElement(_,{imageUpdate:this.imageUpdate}),r.a.createElement(P.a,{type:"number",value:this.state.formData.contact,placeholder:"Mobile No",name:"contact",onChange:this.handleChange}),r.a.createElement(j.a,{onChange:this.handleChange,placeholder:"Gender",value:this.state.formData.gender,defaultValue:"male",style:{width:120}},r.a.createElement(M,{value:"male"},"Male"),r.a.createElement(M,{value:"female"},"Female")),r.a.createElement(P.a,{onChange:this.handleChange,value:this.state.formData.timeOfBirth,type:"text",placeholder:"Time Of Birth HH-MM",name:"timeOfBirth"}),r.a.createElement(P.a,{onChange:this.handleChange,value:this.state.formData.dateOfBirth,type:"text",placeholder:"Date Of Birth DD-MM-YY",name:"dateOfBirth"}),r.a.createElement(P.a,{onChange:this.handleChange,value:this.state.formData.address,type:"text",placeholder:"Address",name:"address"}),r.a.createElement(P.a,{type:"text",onChange:this.handleChange,value:this.state.formData.city,placeholder:"City",name:"city"}),r.a.createElement(P.a,{type:"text",onChange:this.handleChange,value:this.state.formData.country,placeholder:"Country",name:"country"}),r.a.createElement(P.a,{type:"text",onChange:this.handleChange,value:this.state.formData.qualification,placeholder:"Qualification",name:"qualification"}),r.a.createElement(P.a,{type:"text",onChange:this.handleChange,value:this.state.formData.professionalQualification,placeholder:"Professional Qualification",name:"professionalQualification"})),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(A.a,{checkedChildren:"AdPost",unCheckedChildren:"Post",style:{float:"right"},onChange:this.onChange})),r.a.createElement("div",{className:"profile-post-div"},this.state.post&&!0===!this.state.checked?this.state.post.map((function(t){return r.a.createElement(T,{className:"profile-post",key:t._id,user:e.props.user,fetchPosts:e.fetchPosts,data:t,view:"profile"})})):this.state.adPost.map((function(t){return r.a.createElement(T,{className:"profile-post",key:t._id,user:e.props.user,fetchPosts:e.fetchPosts,data:t,view:"profile"})}))))}}]),t}(r.a.Component),J=a(202),F=a.n(J),H=(a(374),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a.componentDidMount=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/carousel");case 3:t=e.sent,a.setState({banner:t.data.ads}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"20px"}},this.state.banner&&("image"===this.state.banner.toggle?r.a.createElement(F.a,{autoPlay:5e3,animationSpeed:2e3,infinite:!0,slidesPerPage:1},r.a.createElement("img",{style:{width:"100%",height:"auto"},src:this.state.banner.carousel.A}),r.a.createElement("img",{style:{width:"100%",height:"auto"},src:this.state.banner.carousel.B}),r.a.createElement("img",{style:{width:"100%",height:"auto"},src:this.state.banner.carousel.C}),r.a.createElement("img",{style:{width:"100%",height:"auto"},src:this.state.banner.carousel.D})):r.a.createElement("div",{style:{textAlign:"center"},dangerouslySetInnerHTML:{__html:this.state.banner.video}})))}}]),t}(r.a.Component)),R=function(e){var t=e.match.params.postId,a=e.history,s=Object(n.useState)({}),c=Object(I.a)(s,2),o=c[0],l=c[1];Object(n.useEffect)((function(){Object(u.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/post/".concat(t),{headers:{Authorization:JSON.parse(localStorage.authToken)}});case 2:a=e.sent,l(a.data.post);case 4:case"end":return e.stop()}}),e)})))()}),[]);var m=o.author,p=o.media,h=o.description,d=o.isImage;return r.a.createElement(D.a,{visible:!!t,onOk:function(){return a.push("/")},onCancel:function(){return a.push("/")}},d?r.a.createElement("img",{style:{width:"100%"},src:"/".concat(p),alt:"business ad"}):r.a.createElement("iframe",{className:"youtube",src:"https://www.youtube.com/embed/".concat(p),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"youtube"}),r.a.createElement("div",{style:{marginTop:"8px"},className:"description-section"},r.a.createElement("span",{className:"description-data",style:{fontSize:"16px"}},r.a.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},m&&m.name)," ",h)))},G=(a(375),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={posts:null,ads:null,isLoading:!0},a.fetchPosts=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/timeline");case 3:t=e.sent,n=[],t.data.posts.forEach((function(e,a){a%3===0&&t.data.ads[a/3]&&n.push(t.data.ads[a/3]),n.push(e)})),a.setState({posts:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchPosts();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"home-main-container"},r.a.createElement(E.a,{path:"/share/:postId",component:R}),r.a.createElement(H,null),this.state.posts&&this.state.posts.map((function(t){return r.a.createElement(T,{key:t._id,user:e.props.user,fetchPosts:e.fetchPosts,data:t})})))}}]),t}(n.Component)),q=a(421);function Q(){return r.a.createElement(q.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:r.a.createElement(k.a,{type:"primary"},r.a.createElement(o.b,{to:"/"},"Back Home"))})}a(376);var K=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleSubmit=function(e){e.preventDefault(),a.postUserData()},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.postUserData=function(){a.state.email&&a.state.password?a.state.password.length<6?S.a.warning("Password must contain 6 letter."):v.a.post("/api/users/login",a.state).then((function(e){if(!1===e.data.status)S.a.error(e.data.message);else{localStorage.setItem("authToken",JSON.stringify(e.data.authToken));var t=e.data.authToken;a.props.fetchUser(t),a.props.history.push("/")}})).catch((function(e){console.error(e)})):S.a.warning("Fill Both fields")},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-content"},r.a.createElement("div",{className:"login-header"},r.a.createElement("h1",{className:"login-title"},"Sign In")),r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Login"))))}}]),t}(r.a.Component),Y=Object(E.f)(K),W=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",name:"",username:""},a.handleSubmit=function(e){e.preventDefault(),a.postUserData()},a.handleChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.postUserData=Object(u.a)(i.a.mark((function e(){var t,n,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.username,r=t.email,s=t.password,c=t.name,n&&r&&s&&c){e.next=5;break}S.a.warning("Please fill all requied details"),e.next=11;break;case 5:if(!(s.length<6)){e.next=9;break}S.a.warning("Password must contain 6 letters!"),e.next=11;break;case 9:return e.next=11,v.a.post("/api/users/register",a.state).then((function(e){0==e.data.status?S.a.warning(e.data.message):(S.a.success("your successful Register Now you can login"),a.props.history.push("/login"))})).catch((function(e){console.error(e)}));case 11:case"end":return e.stop()}}),e)}))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-content"},r.a.createElement("div",{className:"login-header"},r.a.createElement("h1",{className:"login-title"},"Register")),r.a.createElement("form",{className:"login-form",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Register"))))}}]),t}(r.a.Component),$=a(416),X=a(414),Z=a(413),ee=X.a.Column,te=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[]},a.fetchPosts=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/admin/",{headers:{Authorization:t}});case 3:n=e.sent,a.setState({posts:n.data.posts}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.approvePost=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("authToken")),e.prev=1,e.next=4,v.a.patch("/api/admin/post/"+t,null,{headers:{Authorization:n}});case 4:"success"===e.sent.data.status?(a.fetchPosts(n),S.a.success("approve success")):S.a.error("Failed to approve"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.deletePost=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("authToken")),e.prev=1,e.next=4,v.a.delete("/api/post/".concat(t),{headers:{Authorization:n}});case 4:"success"===e.sent.data.status?(a.fetchPosts(n),S.a.success("delete success")):S.a.error("delete failed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.componentDidMount=function(){localStorage.authToken&&a.fetchPosts(JSON.parse(localStorage.authToken))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(X.a,{rowKey:"_id",dataSource:this.state.posts},r.a.createElement(ee,{title:"Author",dataIndex:"author.name",key:"author"}),r.a.createElement(ee,{title:"Post",key:"media",render:function(e,t){return r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.media},t.description)}}),r.a.createElement(ee,{title:"Action",key:"action",render:function(t,a){return r.a.createElement("span",null,r.a.createElement("a",{title:"Approve Post",onClick:function(){return e.approvePost(a._id)}},"Approve"),r.a.createElement(Z.a,{type:"vertical"}),r.a.createElement("a",{title:"Delete Post",onClick:function(){return e.deletePost(a._id)}},"Delete"))}}))}}]),t}(r.a.Component),ae=a(419),ne=X.a.Column,re=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],onGoingAds:[],days:null,visible:!1,postId:null,confirmLoading:!1},a.fetchPosts=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/admin/adPost",{headers:{Authorization:t}});case 3:n=e.sent,a.setState(Object(C.a)({},a.state,{posts:n.data.posts,onGoingAds:n.data.onGoingAds,days:0,visible:!1,postId:null,confirmLoading:!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.approvePost=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState(Object(C.a)({},a.state,{confirmLoading:!0})),t=JSON.parse(localStorage.getItem("authToken")),!a.state.postId||!a.state.days){e.next=15;break}return e.prev=3,e.next=6,v.a.patch("/api/admin/adPost/"+a.state.postId,{days:a.state.days},{headers:{Authorization:t}});case 6:!0===e.sent.data.status?(a.setState(Object(C.a)({},a.state,{confirmLoading:!1,days:0,visible:!1,postId:null})),a.fetchPosts(t),S.a.success("approve success")):S.a.error("Failed to approve"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:e.next=16;break;case 15:S.a.error("Please fill valid days");case 16:case"end":return e.stop()}}),e,null,[[3,10]])}))),a.deletePost=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(localStorage.getItem("authToken")),e.prev=1,e.next=4,v.a.delete("/api/adPost/".concat(t),{headers:{Authorization:n}});case 4:"success"===e.sent.data.status?(a.fetchPosts(n),S.a.success("delete success")):S.a.error("delete failed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.showModal=function(e){a.setState(Object(C.a)({},a.state,{visible:!0,postId:e}))},a.handleCancel=function(){a.setState(Object(C.a)({},a.state,{visible:!1,postId:null,days:0,confirmLoading:!1}))},a.componentDidMount=function(){localStorage.authToken&&a.fetchPosts(JSON.parse(localStorage.authToken))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(D.a,{title:"Approve Post",visible:this.state.visible,onOk:this.approvePost,confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel},r.a.createElement("p",null,"Ads expiry in days"),r.a.createElement(ae.a,{placeholder:"Ads expiry in days",onChange:function(t){e.setState(Object(C.a)({},e.state,{days:t}))},value:this.state.days})),r.a.createElement(X.a,{rowKey:"_id",dataSource:this.state.posts},r.a.createElement(ne,{title:"Author",key:"author",render:function(e,t){return r.a.createElement(U.a,{content:r.a.createElement("div",null,r.a.createElement("p",null,t.author.email),r.a.createElement("p",null,t.author.contact)),title:t.author.name},r.a.createElement("div",null,t.author.name))}}),r.a.createElement(ne,{title:"Post",key:"media",render:function(e,t){return r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.media},t.description)}}),r.a.createElement(ne,{title:"Action",key:"action",render:function(t,a){return r.a.createElement("span",null,r.a.createElement("a",{title:"Approve Post",onClick:function(){return e.showModal(a._id)}},"Approve"),r.a.createElement(Z.a,{type:"vertical"}),r.a.createElement("a",{title:"Delete Post",onClick:function(){return e.deletePost(a._id)}},"Delete"))}})),r.a.createElement("h1",null,"ON GOING ADS"),r.a.createElement(X.a,{rowKey:"_id",dataSource:this.state.onGoingAds},r.a.createElement(ne,{title:"Author",key:"author",render:function(e,t){return r.a.createElement(U.a,{content:r.a.createElement("div",null,r.a.createElement("p",null,t.author.email),r.a.createElement("p",null,t.author.contact)),title:t.author.name},r.a.createElement("div",null,t.author.name))}}),r.a.createElement(ne,{title:"Post",key:"media",render:function(e,t){return r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.media},t.description)}}),r.a.createElement(ne,{title:"Like",dataIndex:"like.length",key:"like"}),r.a.createElement(ne,{title:"Views",dataIndex:"views",key:"views"}),r.a.createElement(ne,{title:"Expire Date",dataIndex:"expireDate",key:"expireDate"}),r.a.createElement(ne,{title:"Delete Post",key:"action",render:function(t,a){return r.a.createElement("span",null,r.a.createElement("a",{title:"Delete Ads",onClick:function(){return e.deletePost(a._id)}},"Delete"))}})))}}]),t}(r.a.Component),se=(a(405),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={banner:"",ImageUploadUrl:""},a.changeImage=function(e){a.setState({banner:Object(C.a)({},a.state.banner,{carousel:Object(C.a)({},a.state.banner.carousel,Object(x.a)({},e.target.name,e.target.value))})})},a.changeVideo=function(e){a.setState({banner:Object(C.a)({},a.state.banner,{video:e.target.value})})},a.toggle=function(e){a.setState({banner:Object(C.a)({},a.state.banner,{toggle:!0===e?"image":"video"})})},a.handleSubmit=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.patch("/api/carousel",a.state.banner,{headers:{Authorization:JSON.parse(localStorage.authToken)}});case 3:t=e.sent,S.a.success(t.data.message),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.imageUpdate=function(e){a.setState({ImageUploadUrl:e})},a.componentDidMount=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/carousel/");case 3:t=e.sent,a.setState({banner:t.data.ads}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e="image"===this.state.banner.toggle;return r.a.createElement("div",null,r.a.createElement("div",{className:"carousel-image-upload"},r.a.createElement(_,{imageUpdate:this.imageUpdate}),this.state.ImageUploadUrl&&r.a.createElement(P.a,{value:this.state.ImageUploadUrl})),this.state.banner&&r.a.createElement("div",{className:"carousel-container"},r.a.createElement(A.a,{className:"carousel-switch",checkedChildren:"Image",unCheckedChildren:"Video",defaultChecked:e,onClick:this.toggle}),!0===e?r.a.createElement("div",{className:"input-margin"},r.a.createElement(P.a,{placeholder:"Banner Image  1",value:this.state.banner.carousel.A,onChange:this.changeImage,name:"A"}),r.a.createElement(P.a,{placeholder:"Banner Image  2",value:this.state.banner.carousel.B,onChange:this.changeImage,name:"B"}),r.a.createElement(P.a,{placeholder:"Banner Image  3",value:this.state.banner.carousel.C,onChange:this.changeImage,name:"C"}),r.a.createElement(P.a,{placeholder:"Banner Image  4",value:this.state.banner.carousel.D,onChange:this.changeImage,name:"D"})):r.a.createElement("div",{className:"input-margin"},r.a.createElement(P.a,{placeholder:"Video Link",value:this.state.banner.video,onChange:this.changeVideo})),r.a.createElement(k.a,{style:{width:"100px"},type:"primary",onClick:this.handleSubmit},"Submit")))}}]),t}(n.Component)),ce=$.a.TabPane;var oe=function(){return r.a.createElement("div",{style:{width:"80vw",margin:"0 auto"}},r.a.createElement($.a,{defaultActiveKey:"1"},r.a.createElement(ce,{tab:"Post approval",key:"1"},r.a.createElement(te,null)),r.a.createElement(ce,{tab:"Ads approval",key:"2"},r.a.createElement(re,null)),r.a.createElement(ce,{tab:"Carousel",key:"3"},r.a.createElement(se,null))))},le=(a(406),P.a.TextArea),ie=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,postData:{description:"",media:"",isImage:!0}},a.toggle=function(e){a.setState({postData:Object(C.a)({},a.state.postData,{isImage:e,media:""})})},a.handleChange=function(e){var t=Object(C.a)({},a.state.postData);t[e.target.name]=e.target.value,a.setState({postData:t})},a.imageUpdate=function(e){var t=Object(C.a)({},a.state.postData);t.media=e,a.setState({postData:t})},a.postDataSend=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setState({loading:!0}),e.prev=1,!a.state.postData.description||!a.state.postData.media){e.next=9;break}return e.next=5,v.a.post("/api/".concat("/new"===a.props.match.path?"post":"adpost"),a.state.postData,{headers:{Authorization:JSON.parse(localStorage.getItem("authToken"))}});case 5:S.a.success("/new"===a.props.match.path?"Your post is being review by admin":"Admin will mail you regarding the ads!"),a.props.history.push("/"),e.next=11;break;case 9:S.a.warning("Please Add Post Content and media"),a.setState({loading:!1});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{className:"post-upload-form home-main-container"},r.a.createElement("div",{className:"input-post"},r.a.createElement(le,{rows:6,placeholder:"Description",name:"description",value:this.state.postData.description,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(A.a,{style:{float:"right"},checkedChildren:"Image",unCheckedChildren:"Video",defaultChecked:!0,onClick:this.toggle}),r.a.createElement("br",null),this.state.postData.isImage?r.a.createElement(_,{imageUpdate:this.imageUpdate}):r.a.createElement(P.a,{style:{marginTop:"10px",marginBottom:"10px"},name:"media",value:this.state.postData.media,onChange:this.handleChange,placeholder:"Enter youtube video link!"})),r.a.createElement(k.a,{type:"/new"===this.props.match.path?"primary":"danger",loading:this.state.loading,onClick:this.postDataSend},"/new"===this.props.match.path?"Create Post":"Create Ad"))}}]),t}(n.Component),ue=Object(E.f)(ie);a(407);var me=function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("img",{className:"loader-image",src:"/loader.png",alt:"loader"}))},pe=(a(408),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={user:null},a.fetchUser=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/api/users",{headers:{Authorization:t}});case 3:n=e.sent,a.setState({user:n.data.user}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),a.logOutUser();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.logOutUser=function(){localStorage.clear(),a.setState({user:null}),a.props.history.push("/")},a.Routes=function(e){return e?e.isAdmin?r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:oe}),r.a.createElement(E.a,{component:Q})):r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:["/","/share/:id"],render:function(){return r.a.createElement(G,{user:a.state.user})}}),r.a.createElement(E.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(V,{data:a.state.user})}}),r.a.createElement(E.a,{exact:!0,path:"/new",component:ue}),r.a.createElement(E.a,{exact:!0,path:"/newBoost",component:ue}),r.a.createElement(E.a,{component:Q})):localStorage.authToken?r.a.createElement(me,null):r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return r.a.createElement(G,{user:null})}}),r.a.createElement(E.a,{exact:!0,path:"/register",component:W}),r.a.createElement(E.a,{exact:!0,path:"/login",render:function(){return r.a.createElement(Y,{fetchUser:a.fetchUser})}}),r.a.createElement(E.a,{component:Q}))},a.componentDidMount=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.authToken&&a.fetchUser(JSON.parse(localStorage.authToken));case 1:case"end":return e.stop()}}),e)}))),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return navigator.onLine?r.a.createElement("div",{className:"App"},this.state.user?r.a.createElement(w,{user:this.state.user,logOutUser:this.logOutUser}):r.a.createElement(w,{user:null}),this.Routes(this.state.user)):S.a.error("Please check your Network!")}}]),t}(r.a.Component)),he=Object(E.f)(pe);c.a.render(r.a.createElement(o.a,null,r.a.createElement(he,null)),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.fc9beb2f.chunk.js.map